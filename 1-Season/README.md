> Easy 377
> Med 211, 222, 227, 234, 257, 286, 309, 336
> Hard 167
> https://github.com/maritariny?page=2&tab=repositories

# $\textcolor{#50ad50}{\textsf{Бэкенд}}$
> **Первый сезон**
> 
> 7 апреля ⸺ 7 июля 2023


|  #  |                           Название                           |                 Уровень                 |                             Паттерн                              |
|:---:|:------------------------------------------------------------:|:---------------------------------------:|:----------------------------------------------------------------:|
| 155 |                     Уникальные элементы                      | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                                -                                 |
| 167 |                         Произведение                         | $\textcolor{#e08585}{\textsf{Сложная}}$ |                                -                                 |
| 182 |                        Закрытый ключ                         | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                               Math                               |
| 187 |                     Программист на пляже                     | $\textcolor{#2db49d}{\textsf{Легкая}}$  | <img src="..%2Fres%2FYDX-token.png" width=18px> Math |
| 189 |                      Перемещение чанков                      | $\textcolor{#e08585}{\textsf{Сложная}}$  |                              Yandex                              |
| 198 |                            Поиск                             | $\textcolor{#e08585}{\textsf{Сложная}}$  |                              Yandex                              |
| 204 |                            Ошибка                            | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                               Math                               |
| 211 |                           Встречи                            | $\textcolor{#ff9d42}{\textsf{Средняя}}$ |                                                                  |
| 251 |                        Набор символов                        | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                          Sliding Window                          |
| 257 |                          RLE-сжатие                          | $\textcolor{#ff9d42}{\textsf{Средняя}}$|                             Strings                              |
| 260 |                      Телефонные номера                       | $\textcolor{#ff9d42}{\textsf{Средняя}}$|                             Strings                              |
| 280 |                      Поддоны на складе                       | $\textcolor{#ff9d42}{\textsf{Средняя}}$|                                -                                 |
| 286 |                    Расшифровка сообщения                     | $\textcolor{#ff9d42}{\textsf{Средняя}}$|                             Strings                              |
| 306 |                         День недели                          | $\textcolor{#ff9d42}{\textsf{Средняя}}$|                              stdlib                              |
| 313 |                         Сумма медиан                         | $\textcolor{#ff9d42}{\textsf{Средняя}}$|                               Куча                               |
| 313 |                            Карты                             | $\textcolor{#ff9d42}{\textsf{Средняя}}$|                               Куча                               |
| 324 |                        Много стульев                         | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                               Math                               |
| 325 |                      Коля и датацентры                       | $\textcolor{#ff9d42}{\textsf{Средняя}}$  |                               Math                               |
| 331 |                   Средняя сетевая задержка                   | $\textcolor{#ff9d42}{\textsf{Средняя}}$  |                               Math                               |
| 336 |                      Иван и opensource                       | $\textcolor{#ff9d42}{\textsf{Средняя}}$  |                             Strings                              |
| 341 |                            Палеты                            | $\textcolor{#ff9d42}{\textsf{Средняя}}$  |                             Strings                              |
| 344 |                            Шашки                             | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                               Math                               |
| 347 |                      Музыкальные жанры                       | $\textcolor{#ff9d42}{\textsf{Средняя}}$  |                               SQL                                |
| 349 |            Опять JSON’ы перекладывать (разминка)             | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                                -                                 |
| 352 |                 Камни и украшения (разминка)                 | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                                -                                 |
| 353 | Сортировка положительных чисел в обратном порядке (разминка) | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                                -                                 |
| 357 |                        Граф подстрок                         | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                                -                                 |
| 360 |                       Частный элемент                        | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                                -                                 |
| 361 |                       Средний элемент                        | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                                -                                 |
| 377 |                     Оценка разнообразия                      | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                                -                                 |
| 380 |                      Посадка в самолет                       | $\textcolor{#ff9d42}{\textsf{Средняя}}$  |                                -                                 |
| 381 |                   Форматирование календаря                   | $\textcolor{#2db49d}{\textsf{Легкая}}$  |                               Math                               |


### Разбор
#### 182 — Закрытый ключ
Если $y$ не делится на $x$, то ответ, очевидно, равен нулю.


Иначе рассмотрим какую-то пару $p$, $q$, что $gcd(p, q) = x$, а $lcm(p, q) = y$. С каждой такой парой можно сопоставить два числа $p' = \frac{p}{x}$ и $q' = \frac{q}{x}$ такие, что $gcd(p', q') = 1$, а $lcm(p', q') = \frac{y}{x}$.


Иными словами, задачу можно свести к задаче нахождения количества пар взаимно простых чисел $p'$, $q'$ таких, что их $lcm$ равен $\frac{y}{x}$.


Далее будем предполагать что $x = 1$, если это не так, то сводим исходную задачу к задаче $x' = 1$, $y' = \frac{y}{x}$.


#### Первый вариант решения

Решение за $O(factor(y) + number\_of\_divisors(y) \cdot \log{(y}))$.


Зафиксируем $p'$, тогда ему в пару может подойти только $q' = \frac{y'}{p'}$, поскольку $y' = lcm(p', q') = \frac{p' \cdot q'}{gcd(p', q')} = \frac{p' \cdot q'}{1} = p' \cdot q'$. Единственное, что надо проверить, это равенство $gcd(p', \frac{y'}{p'}) = 1$, это можно сделать алгоритмом Евклида за $O(\log{(y')})$.


Под факторизацией подразумевается любой способ нахождения делителей. С учетом достаточно маленьких ограничений их можно найти просто проверкой всех целых чисел от $1$ до $\sqrt{y'}$, что имеет сложность $O(\sqrt{y'})$. Известно, что количество делителей точно не превосходит $2 \cdot \sqrt{y'}$, так что проверку, что $gcd(p', \frac{y'}{p'}) = 1$, нужно выполнить не более $2 \cdot \sqrt{y'}$ раз, что имеет сложность $O(\sqrt{y'}\log{y'})$.


Получаем решение за $O(\sqrt{y} \log{(y)})$.

#### Второй вариант решения

Решение за $O(factor(y))$.


Рассмотрим простое число $z$, на которое делится $y'$. Если $lcm(p', q') = y'$, то либо $p'$, либо $q'$ должно делится на $z^{\alpha}$, где $\alpha$ — максимальная степень, с которой $z$ входит в $y'$. Чтобы выполнялось $gcd(p', q') = 1$, одно из этих чисел не должно делиться на $z$.


Иными словами, для каждого простого числа, на которое делится $y'$, мы выбираем, пойдет оно в $p'$ или в $q'$. Тогда ответ на задачу равен $2^{number\_of\_distinct\_prime\_divisors(y')}$.